@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variables for theming */
:root {
  /* Primary colors */
  --color-primary-50: 255 247 237;
  --color-primary-500: 255 114 0;
  --color-primary-600: 234 88 12;
  
  /* Surface colors */
  --color-surface-50: 250 250 250;
  --color-surface-100: 245 245 245;
  --color-surface-900: 23 23 23;
  --color-surface-950: 10 10 10;
  
  /* App-specific variables */
  --app-bar-height: 64px;
  --bottom-nav-height: 64px;
  --safe-area-top: env(safe-area-inset-top);
  --safe-area-bottom: env(safe-area-inset-bottom);
  --safe-area-left: env(safe-area-inset-left);
  --safe-area-right: env(safe-area-inset-right);
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-surface-50: 10 10 10;
    --color-surface-100: 23 23 23;
    --color-surface-900: 245 245 245;
    --color-surface-950: 250 250 250;
  }
}

/* Touch optimizations */
@layer base {
  * {
    /* Smooth scrolling on mobile */
    -webkit-overflow-scrolling: touch;
    
    /* Disable text selection on UI elements */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  /* Allow text selection for content */
  p, span, div[contenteditable], input, textarea, [role="textbox"] {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }
  
  html {
    /* Prevent bounce effect on iOS */
    height: 100%;
    overflow: hidden;
    -webkit-text-size-adjust: 100%;
  }
  
  body {
    height: 100vh;
    height: 100dvh; /* Dynamic viewport height */
    overflow: auto;
    overscroll-behavior: none;
    /* Prevent iOS rubber band effect */
    position: fixed;
    width: 100%;
    
    /* Better font rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  #root {
    height: 100%;
    overflow: auto;
    overscroll-behavior: none;
  }
  
  /* Touch feedback for interactive elements */
  button, [role="button"], [tabindex]:not([tabindex="-1"]) {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    cursor: pointer;
  }
  
  /* Improved focus styles for accessibility */
  button:focus-visible, 
  [role="button"]:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: 2px solid rgb(var(--color-primary-500));
    outline-offset: 2px;
  }
  
  /* Remove default button styles */
  button {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    border: none;
    background: none;
    font: inherit;
    color: inherit;
  }
  
  /* Scrollbar styles for webkit browsers */
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 2px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3);
  }
}

@layer components {
  /* PWA-specific utilities */
  .app-safe-area {
    padding-top: var(--safe-area-top);
    padding-bottom: var(--safe-area-bottom);
    padding-left: var(--safe-area-left);
    padding-right: var(--safe-area-right);
  }
  
  .touch-target {
    min-height: 48px;
    min-width: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Haptic-like visual feedback */
  .haptic-light {
    transition: all 0.1s ease-in-out;
  }
  
  .haptic-light:active {
    transform: scale(0.95);
    opacity: 0.7;
  }
  
  .haptic-medium {
    transition: all 0.15s ease-in-out;
  }
  
  .haptic-medium:active {
    transform: scale(0.92);
    opacity: 0.8;
  }
  
  /* App-like loading states */
  .skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
  }
  
  @keyframes loading {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
  
  /* Native-like pull-to-refresh styles */
  .pull-to-refresh {
    transform: translateY(0);
    transition: transform 0.3s ease-out;
  }
  
  .pull-to-refresh.pulling {
    transform: translateY(60px);
  }
}

@layer utilities {
  /* Viewport units that account for mobile browsers */
  .h-screen-safe {
    height: 100vh;
    height: 100dvh;
  }
  
  .min-h-screen-safe {
    min-height: 100vh;
    min-height: 100dvh;
  }
  
  .max-h-screen-safe {
    max-height: 100vh;
    max-height: 100dvh;
  }
}

html {
  scroll-behavior: smooth;
}

body {
  @apply antialiased;
}

input, textarea {
  @apply border rounded-md px-4 py-2;
}

.hidden-seo-content {
  display: none;
}

.fb-pixel-image {
  height: 1px;
  width: 1px;
  display: none;
}

.meta-pixel-container {
  display: none;
}

/* Custom animations */
@keyframes slow-zoom {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

.animate-slow-zoom {
  animation: slow-zoom 30s infinite ease-in-out;
}

/* Custom backgrounds */
.bg-radial-gradient {
  background: radial-gradient(circle, rgba(255, 114, 0, 0.2) 0%, rgba(255, 114, 0, 0) 70%);
}

/* Hide scrollbar for carousel */
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;     /* Firefox */
}

/* Hide WhatsApp button and enquiry form */
.hide-whatsapp-button [aria-label="Chat on WhatsApp"] {
  display: none !important;
}

.hide-enquiry-form .customer-form-modal {
  display: none !important;
}